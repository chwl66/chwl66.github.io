<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>WordPress采集插件 | 温故知新</title>
<meta name="description" content="温故而知新">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://chwl66.github.io/favicon.ico?v=1577263019646">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://chwl66.github.io/styles/main.css">


  

  
    <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css" />
  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://chwl66.github.io">
        <img src="https://chwl66.github.io/images/avatar.png?v=1577263019646" class="site-logo">
        <h1 class="site-title">温故知新</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      温故而知新
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://chwl66.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">WordPress采集插件</h2>
            <div class="post-date">2019-11-29</div>
            
            <div class="post-content">
              <p><strong>简介</strong>如何安装下载插件长腿蜘蛛-CTspider 然后到WordPress插件页面点击上传，安装启用即可。 如果使用FTP上传,请使用二进制上传协议。如何授权登录长腿蜘蛛-CTspider官网注册账号（P</p>
<h2 id="如何安装">如何安装</h2>
<p>下载插件<a href="https://www.ctspider.com/">长腿蜘蛛-CTspider</a></p>
<ol>
<li>然后到WordPress插件页面点击上传，安装启用即可。</li>
<li>如果使用FTP上传,请使用二进制上传协议。</li>
</ol>
<h2 id="如何授权">如何授权</h2>
<p>登录<a href="https://www.ctspider.com/">长腿蜘蛛-CTspider</a>官网注册账号（PS：注册账号需要邮箱验证激活码，请认真填写邮箱账号）。</p>
<ol>
<li>点击用户中心-&gt;添加授权域名（PS：目前每位用户可以授权3个域名）。</li>
<li>得到授权码后，点击CTspider插件-&gt;系统配置-&gt;授权码配置-&gt;填入授权码-&gt;保存配置-&gt;验证授权</li>
</ol>
<figure data-type="image" tabindex="1"><img src="https://www.ctspider.com/wp-content/uploads/2018/08/%E6%8E%88%E6%9D%83.png" alt="img"></figure>
<h2 id="最近有很多网友问为什么点击采集后显示没有任何数据只有两种可能">最近有很多网友问：为什么点击采集后显示没有任何数据只有两种可能</h2>
<ol>
<li>采集规则没有设置好。</li>
<li>如果确定采集规则没问题，请查看当前采集的网址是否是Ajax动态渲染加载（PS：目前长腿蜘蛛-CTspider <code>不支持动态渲染加载采集</code>）</li>
</ol>
<h2 id="新建项目-基本配置">新建项目 / 基本配置</h2>
<p>接下来我们详细说下如何采集一个项目</p>
<p>我们使用新浪科技为示例：</p>
<p>首先基本配置</p>
<ol>
<li>任务名称：新浪科技（PS：自定义即可）</li>
<li>更新时间：默认60分钟（PS：当前任务60分钟自动执行一次）</li>
<li>字符集：默认选项就可以（PS：如果出现乱码情况，请针对当前web网页字符集选择即可）</li>
<li>随机IP：开启（PS：开启随机IP会在每次采集的时候自动更换IP,减少服务器IP被封的几率）</li>
<li>多线程采集：开启 （PS：开启后可提高采集速度）</li>
<li>多线程数量：默认10（PS：根据自己服务器配置酌情使用）</li>
</ol>
<figure data-type="image" tabindex="2"><img src="https://www.ctspider.com/wp-content/uploads/2018/08/%E5%9F%BA%E6%9C%AC%E8%AE%BE%E7%BD%AE.png" alt="img"></figure>
<h2 id="列表设置">列表设置</h2>
<ul>
<li>列表URL: http://roll.tech.sina.com.cn/internet_all/index.shtml （PS：如需多个，可换行添加）</li>
<li>列表区域选择器：<code>.contList&gt;ul&gt;li</code> （PS：【<code>完全和CSS选择器用法一样</code>】【<code>可填，可不填</code>】如果采集当前页面有多个相同列表DOM节点就要填写，确保采集精准度）用谷歌浏览器右键审查元素，可以看出当前列表数据都在<code>.contList&gt;ul&gt;li</code>下面</li>
</ul>
<figure data-type="image" tabindex="3"><img src="https://www.ctspider.com/wp-content/uploads/2018/08/URLcss_2.png" alt="img"></figure>
<ul>
<li>列表缩略图：如果有图可以直接填写当前缩略图CSS选择器</li>
<li>文章网址匹配：<code>a</code> （PS：由于上面区域选择器已经定位,我们可以直接填入<code>a标签</code>即可，如果区域选择器没有定位则设置：<code>.contList li a</code> 或者<code>.contList a</code> 具体根据你采集页面dom结构自己分析）</li>
<li>添加来源网址到自定义字段：<code>source_url</code>（PS：【自定义】可开启或不开启，设置后会在每天文章添加一个自定义字段<code>source_url</code>并且会把当前采集到网址链接赋值给该字段用于前台调用显示）如: <code>get_post_meta('source_url')</code> 可调用该字段的值。</li>
</ul>
<h3 id="点击列表测试可以查看当前项目列表配置情况"><strong>点击列表测试可以查看当前项目列表配置情况</strong></h3>
<figure data-type="image" tabindex="4"><img src="https://www.ctspider.com/wp-content/uploads/2018/08/%E5%88%97%E8%A1%A8%E6%B5%8B%E8%AF%95.png" alt="img"></figure>
<h2 id="文章设置">文章设置</h2>
<p>标题匹配规则：<code>h1</code></p>
<p>文章内容设置：<code>#article_content</code></p>
<figure data-type="image" tabindex="5"><img src="https://www.ctspider.com/wp-content/uploads/2018/08/%E6%96%87%E7%AB%A0_2.png" alt="img"></figure>
<p>可以看到标题在<code>h1</code>标签下，也可使用<code>.main-title</code>来获取标题</p>
<p>正文内容看上去有好多 <code>class和id</code> 如果有id属性尽量采用id，毕竟id是唯一性，定位精准。</p>
<p>我们还可以增加规则来采集<code>TAG标签</code></p>
<p>长腿蜘蛛-CTspider 提供了6总规则添加采集，并且可以自定义字段规则（PS：自定义字段规则可以添加多个）</p>
<figure data-type="image" tabindex="6"><img src="https://www.ctspider.com/wp-content/uploads/2018/08/%E6%96%87%E7%AB%A0%E8%A7%84%E5%88%99.png" alt="img"></figure>
<h3 id="点击采集测试"><strong>点击采集测试</strong></h3>
<p>采集结果完美呈现（原文：标题：TAG）正确显示</p>
<p>但是我们发现结果中出现了<code>a链接</code>和一些多于的<code>css属性</code>和<code>id属性</code>还有<code>span标签</code></p>
<figure data-type="image" tabindex="7"><img src="https://www.ctspider.com/wp-content/uploads/2018/08/%E9%87%87%E9%9B%86%E6%B5%8B%E8%AF%95.png" alt="img"></figure>
<p><strong>我们可以利用<code>长腿蜘蛛-CTspider</code>强大的<code>内容过滤</code>模块进行数据清洗工作</strong></p>
<h2 id="内容过滤">内容过滤</h2>
<ol>
<li>首先删除数据中所有<code>a链接</code>但不删除a标签内容</li>
<li>删除数据中<code>span标签</code>并且也不删除内容</li>
<li>删除数据中无用的<code>class</code>属性和<code>id</code>属性</li>
</ol>
<h3 id="具体设置如下图"><strong>具体设置如下图：</strong></h3>
<figure data-type="image" tabindex="8"><img src="https://www.ctspider.com/wp-content/uploads/2018/08/%E8%BF%87%E6%BB%A4.png" alt="img"></figure>
<h2 id="最后在进行采集测试得到纯净的数据">最后在进行采集测试（得到纯净的数据）</h2>
<figure data-type="image" tabindex="9"><img src="https://www.ctspider.com/wp-content/uploads/2018/08/%E9%87%87%E9%9B%86%E6%B5%8B%E8%AF%952.png" alt="img"></figure>
<p>接代写规则，出已有规则，有意者私聊。<br>
<img src="https://ravpf.cn/d/file/p/2019/11-23/c7f4e20fbf5bbf51b7347711cd83bca9.png" alt="img"></p>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://chwl66.github.io/tag/yx9gJ4UCy" class="tag">
                    WordPress
                  </a>
                
                  <a href="https://chwl66.github.io/tag/D6zWGHBikg" class="tag">
                    采集
                  </a>
                
                  <a href="https://chwl66.github.io/tag/bApOkhwQIw" class="tag">
                    插件
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://chwl66.github.io/post/d8paPRJx0">
                  <h3 class="post-title">
                    【神器】使用Folderclone秒转网友Google Drive分享文件到自己的Google Drive网盘
                  </h3>
                </a>
              </div>
            

            
              

              
                <div id="disqus_thread" data-aos="fade-in"></div>
              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  

  
    <script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>
    <script>

    var options = {
      shortname: 'gridea',
      apikey: 'WInTbn2XH8Lt3PHZgEDKgsag5dk7tsBGpznE0MNeBQFTwrvD05gnXtF9UUjsqwSp',
    }
    if ('') {
      options.api = ''
    }
    var dsqjs = new DisqusJS(options)

    </script>
  




  </body>
</html>
