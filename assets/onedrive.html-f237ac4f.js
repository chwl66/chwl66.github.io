import{_ as a,a as l,b as d}from"./onedrive-update-permission-e18ee92d.js";import{_ as c,r,o as h,c as _,b as e,e as t,a as n,w as p,f as u}from"./app-8967e7f1.js";const m={},f=e("h1",{id:"onedrive",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#onedrive","aria-hidden":"true"},"#"),t(" OneDrive")],-1),b={class:"hint-container tip"},v=e("p",{class:"hint-container-title"},"提示",-1),k={href:"https://alist.nn.ci/tool/onedrive/request",target:"_blank",rel:"noopener noreferrer"},x=e("h2",{id:"创建应用",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#创建应用","aria-hidden":"true"},"#"),t(),e("strong",null,"创建应用")],-1),g=e("blockquote",null,[e("p",null,"你也可以选择跳过此步，使用默认提供的client，但是需要组织管理员批准。")],-1),K=e("li",null,"在打开的页面，选择所在区域，点击创建应用",-1),q={href:"https://alist.nn.ci/tool/onedrive/callback",target:"_blank",rel:"noopener noreferrer"},C=e("code",null,"client_id",-1),F=e("img",{src:a,alt:"client_id"},null,-1),R=e("li",null,[t('注册好应用程序之后，选择"证书和密码"，点击"新客户端密码"，输入一串密码，选择时间为最长的那个，点击"添加" （注：在添加之后输入的密码之后会消失，请记录下来 '),e("code",null,"client_secret"),t(" 的值） "),e("img",{src:l,alt:"client_secret"})],-1),M=e("li",null,[t('选择 "API 权限"，点击 "Microsoft Graph"，在"选择权限"中输入 '),e("code",null,"file"),t("，勾选 "),e("code",null,"Files.read"),t('（注：Files.read 是只读最小权限，图中权限较大，也同样可以），点击"确定" '),e("img",{src:d,alt:"api"})],-1),P=e("h2",{id:"获取刷新令牌",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#获取刷新令牌","aria-hidden":"true"},"#"),t(),e("strong",null,"获取刷新令牌")],-1),z=e("code",null,"client_id",-1),A=e("code",null,"client_secret",-1),W={href:"https://alist.nn.ci/tool/onedrive/request",target:"_blank",rel:"noopener noreferrer"},S=u('<h2 id="获取-sharepoint-site-id" tabindex="-1"><a class="header-anchor" href="#获取-sharepoint-site-id" aria-hidden="true">#</a> <strong>获取 SharePoint site_id</strong></h2><p>如果需要挂载 SharePoint，完成上一步后，在显示刷新令牌的界面会出现一个输入站点地址，输入站点地址后点击获取 <code>site_id</code> 即可。</p><h2 id="添加账号" tabindex="-1"><a class="header-anchor" href="#添加账号" aria-hidden="true">#</a> <strong>添加账号</strong></h2><p>将上述过程中获取得到的值依次填入即可。</p><h2 id="根文件夹路径" tabindex="-1"><a class="header-anchor" href="#根文件夹路径" aria-hidden="true">#</a> <strong>根文件夹路径</strong></h2><p>默认为 <code>/</code>，如果需要自定义，就填路径就行，从根路径开始，和本地路径一样，比如 <code>/test</code></p><h3 id="默认使用的下载方式" tabindex="-1"><a class="header-anchor" href="#默认使用的下载方式" aria-hidden="true">#</a> <strong>默认使用的下载方式</strong></h3>',7);function N(V,G){const i=r("RouterLink"),o=r("ExternalLinkIcon"),s=r("Mermaid");return h(),_("div",null,[f,e("div",b,[v,e("p",null,[t("如果你的账号不支持 API，（比如学校账号没有验证管理员，或者管理员禁用了 API），那么你也可以通过 WebDAV 挂载。 有关详细信息，请参阅 "),n(i,{to:"/zh/guide/drivers/webdav.html"},{default:p(()=>[t("WevDAV 页面")]),_:1})])]),e("p",null,[t("首先打开 "),e("a",k,[t("https://alist.nn.ci/tool/onedrive/request"),n(o)])]),x,g,e("ul",null,[K,e("li",null,[t('登陆后选择"注册应用程序"，输入"名称"，选择"任何组织目录中的账户和个人"（注意这里不要看位置选择而是看文字，部分人可能是中间那个选项，不要选成单一租户或者其他选项，否则会导致登陆时出现问题），输入重定向 URL 为 '),e("a",q,[t("https://alist.nn.ci/tool/onedrive/callback"),n(o)]),t(" ，点击注册即可，然后可以得到 "),C,F]),R,M]),P,e("p",null,[t("将上一步骤中获得的 "),z,t(" 和 "),A,t(" 填入 "),e("a",W,[t("https://alist.nn.ci/tool/onedrive/request"),n(o)]),t(' ，点击"获取刷新令牌"即可')]),S,n(s,{id:"mermaid-68",code:"eJzT1dXlKsksyUm1Uni5e8aLdUue7N3/fMqK57Nank5e9Xx575Md3S/27n02befTPf3v98znAqlPy8kvT85ILCpRCHHiUgCC4pLKnFSFREOFtMycHCvlpKQ0neKSovzsVCvlNDMzKFu3PDOlJMPKqKBCJzk/J78IKJeWhqzdCKo9Lc3c1NwUboKxsTGqCSYFFRBtpUnpRYkFGQqZKamGCtEKsWDRREMwlZqXAuVGGxsYxVpZWRXn56Ym5yQWF9sCQQ3EszWJRtFA3z7r2P5i3b6nS9ohRoBVuaSmKcC1wFxmaQZRYBj9bM6aZ3N2Pdm9+PmEtlhdPaDelw2derp2WA1MMoyGqAwN8iGoODknMzkbFJhKenr6KUWZZalFxfrJ+bm5+Xl6GSW5OcrlqUkpiWW6z9dOez51qRKSniQy9CQTrQcAkHnb9A=="})])}const U=c(m,[["render",N],["__file","onedrive.html.vue"]]);export{U as default};
