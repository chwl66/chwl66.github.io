import{d as T,ay as B,h as i,o as u,F as _,w as n,a as o,u as a,e as r,I as c,au as y,c as b,b as g,at as N,H as j,N as O,aw as h,_ as V,r as P}from"./app-8967e7f1.js";import{N as m}from"./Input-77898342.js";import{N as w}from"./Button-437fd84f.js";import{N as C}from"./Alert-130b4044.js";import"./browser-dc4cac82.js";const E=T({__name:"Token",setup(x){const t=B({phone:"",password:"",verify_code:""}),d=i(),l=i(),f=i(),v=i(),p=i();async function z(){f.value=!0;const e=await(await fetch(`${h()}/alist/wopan/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();if(f.value=!1,e.error){d.value=e.error;return}}async function S(){v.value=!0;const e=await(await fetch(`${h()}/alist/wopan/verify_code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();if(v.value=!1,e.error){l.value=e.error;return}p.value=e}return(k,e)=>(u(),_(a(O),{size:"large",vertical:""},{default:n(()=>[o(a(m),{size:"large",placeholder:"Phone number",value:t.phone,"onUpdate:value":e[0]||(e[0]=s=>t.phone=s)},null,8,["value"]),o(a(m),{size:"large",placeholder:"Password",value:t.password,"onUpdate:value":e[1]||(e[1]=s=>t.password=s),type:"password"},null,8,["value"]),o(a(w),{type:"primary",secondary:"",size:"large",block:"",onClick:z,loading:f.value},{default:n(()=>[r("Get Verify Code ")]),_:1},8,["loading"]),d.value?(u(),_(a(C),{key:0,title:"Error",type:"error"},{default:n(()=>[r(c(d.value),1)]),_:1})):y("v-if",!0),o(a(m),{size:"large",placeholder:"Verify code",value:t.verify_code,"onUpdate:value":e[2]||(e[2]=s=>t.verify_code=s)},null,8,["value"]),o(a(w),{type:"primary",size:"large",block:"",onClick:S,loading:v.value},{default:n(()=>[r("Get Token")]),_:1},8,["loading"]),l.value?(u(),_(a(C),{key:1,title:"Error",type:"error"},{default:n(()=>[r(c(l.value),1)]),_:1})):y("v-if",!0),p.value?(u(),b(j,{key:2},[g("div",null,[r("refresh_token: "),o(a(N),{bordered:!1,type:"info"},{default:n(()=>[r(c(p.value.refresh_token),1)]),_:1})]),g("div",null,[r("access_token: "),o(a(N),{bordered:!1,type:"info"},{default:n(()=>[r(c(p.value.access_token),1)]),_:1})])],64)):y("v-if",!0)]),_:1}))}}),U=V(E,[["__file","Token.vue"]]),$=T({__name:"token.html",setup(x){return(t,d)=>{const l=P("NaiveClient");return u(),b("div",null,[o(l,null,{default:n(()=>[o(a(U))]),_:1})])}}}),D=V($,[["__file","token.html.vue"]]);export{D as default};
